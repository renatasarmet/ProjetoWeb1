<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://xmlns.jcp.org/jsf/html"  
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui = "http://java.sun.com/jsf/facelets"
      xmlns:sec="http://www.springframework.org/security/tags">

    <h:head>  
        <ui:define name="title">
            #{msg.cadastro_de_promocoes} | #{msg.titulo_principal}
        </ui:define>
        <link rel="stylesheet" 
              href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" 
              integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" 
              crossorigin="anonymous"/>  
    </h:head>
    <h:body>
        <ui:composition template="/templates/common.xhtml">
            <ui:define name="content">
                <h:form id="form" class="form-horizontal">  
                    <div class="form-group">  
                        <div class="col-sm-4"></div>  
                        <div  class="col-sm-4">  
                            <h2 style="text-align: center">#{msg['dados']}</h2>  
                        </div>  
                    </div>  
                    <hr/>  
                    <div class="form-group">  
                        <h:outputLabel for="nome" class="control-label col-sm-4">#{msg['nome']}</h:outputLabel>  
                        <div class="col-sm-4">  
                            <h:inputText id="nome" value="#{promocaoBean.promocao.nome}" class="form-control"   
                                         validatorMessage="#{msg['nome_obrigatorio']}">
                                <f:validateRequired/>
                            </h:inputText>  
                        </div>  
                    </div>  
                    <div class="form-group">  
                        <h:outputLabel for="preco" class="control-label col-sm-4">#{msg['preco']}</h:outputLabel>  
                        <div class="col-sm-4">  
                            <h:inputText id="preco" value="#{promocaoBean.promocao.preco}" class="form-control"   
                                         validatorMessage="#{msg['preco_obrigatorio']}"
                                         a:type="Number" a:step="any" a:min="0.01">
                                <f:validateRequired/>
                            </h:inputText>  
                        </div>  
                    </div>  
                    <div class="form-group">  
                        <h:outputLabel for="data_sessao" class="control-label col-sm-4">#{msg['data_sessao']}</h:outputLabel>  
                        <div class="col-sm-4">  
                            <h:inputText id="data_sessao" value="#{promocaoBean.promocao.data_sessao}" class="form-control"   
                                         validatorMessage="#{msg['data_sessao_obrigatorio']}" a:type="date">
                                <f:validateRequired/>
                            </h:inputText>  
                        </div>  
                    </div>
                    <div class="form-group">  
                        <h:outputLabel for="horario_sessao" class="control-label col-sm-4">#{msg['horario_sessao']}</h:outputLabel>  
                        <div class="col-sm-4">  
                            <h:inputText id="horario_sessao" value="#{promocaoBean.promocao.horario_sessao}" class="form-control"   
                                         validatorMessage="#{msg['horario_sessao_obrigatorio']}">
                                <f:validateRequired/>
                            </h:inputText>  
                        </div>  
                    </div>
                    <div class="form-group">
                        <sec:authorize access="!hasAnyRole('TEATRO')">
                            <h:outputLabel for="teatro" class="control-label col-sm-4">#{msg['teatro']}</h:outputLabel>  
                            <div class="col-sm-4">  
                                <h:selectOneMenu id="teatro" value="#{promocaoBean.promocao.teatro}">
                                    <f:selectItems value="#{teatroBean.teatros}"/>
                                    <f:converter converterId="TeatroConverter" />
                                </h:selectOneMenu>
                                <h:message for="teatro"/>
                            </div>  
                        </sec:authorize>
                        <sec:authorize access="hasRole('TEATRO')">
                            <h:outputLabel for="teatro" class="control-label col-sm-4">#{msg['teatro']}</h:outputLabel>  
                            <div class="col-sm-4">  
                                <h:selectOneMenu id="teatro" value="#{promocaoBean.promocao.teatro}">
                                    <f:selectItems value="#{promocaoBean.teatros}"/>
                                    <f:converter converterId="TeatroConverter" />
                                </h:selectOneMenu>
                                <h:message for="teatro"/>
                            </div>
                        </sec:authorize>
                    </div>
                    <div class="form-group">  
                        <h:outputLabel for="site_venda_ingresso" class="control-label col-sm-4">#{msg['site']}</h:outputLabel>  
                        <div class="col-sm-4">  
                            <h:selectOneMenu id="site_venda_ingresso" value="#{promocaoBean.promocao.site_venda_ingresso}">
                                <f:selectItems value="#{siteVendaIngressoBean.sites}"/>
                                <f:converter converterId="SiteVendaIngressoConverter" />
                            </h:selectOneMenu>
                            <h:message for="site_venda_ingresso"/>  
                        </div>  
                    </div>
                    <div class="form-group">  
                        <div class="col-sm-4"></div>  
                        <div class="col-sm-4">  
                            <div class="col-sm-2">                        
                                <h:commandButton value="#{msg['salvar']}" action="#{promocaoBean.salva()}" class="btn btn-primary"   
                                                 style="width: 80px;"></h:commandButton>  
                            </div>  
                            <br/> 
                            <div class="col-sm-2">  
                                <h:link outcome="index" value="#{msg['lista_de_promocoes']}" class="btn btn-success" />  
                            </div>  
                        </div>  
                    </div>  
                </h:form>  
            </ui:define>  
        </ui:composition>
    </h:body>  
</html>
