<?xml version = "1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns = "http://www.w3.org/1999/xhtml"   
      xmlns:ui = "http://java.sun.com/jsf/facelets"
      xmlns:sec="http://www.springframework.org/security/tags"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <body>
        <ui:composition> 
            <div id="header-gen">
                <ul>
                    <h:form>
                        <sec:authorize access="hasAnyRole('ADMIN','SITE','TEATRO')">
                            <li><h1 class="user_navbar">#{request.getUserPrincipal().getName().toString()}</h1></li>
                        </sec:authorize>
                        <li><a href="/ProjetoWeb1"><b>Home</b></a></li>
                        <sec:authorize access="!hasAnyRole('ADMIN','SITE','TEATRO')">
                            <h:form>
                                <li><h:commandLink action="#{promocaoBean.lista()}">#{msg.lista_de_promocoes}</h:commandLink></li>
                                <li><h:commandLink action="#{siteVendaIngressoBean.lista()}">#{msg.lista_site_venda_ingresso}</h:commandLink></li>
                                <li><h:commandLink action="#{teatroBean.lista()}">#{msg.lista_de_teatros}</h:commandLink></li>
                            </h:form>
                            <li id="item-delimitador"></li>
                        </sec:authorize>
                        <sec:authorize ifAllGranted="ADMIN">
                            <li><h:commandLink action="#{promocaoBean.lista()}">#{msg.lista_de_promocoes}</h:commandLink></li>
                            <li><h:commandLink action="#{siteVendaIngressoBean.lista()}">#{msg.lista_site_venda_ingresso}</h:commandLink></li>
                            <li><h:commandLink action="#{teatroBean.lista()}">#{msg.lista_de_teatros}</h:commandLink></li>
                            <!--<li><h:commandLink action="#{promocaoBean.cadastra()}">#{msg.cadastro_de_promocoes}</h:commandLink></li>-->
                            <li><h:commandLink action="#{siteVendaIngressoBean.cadastra()}"></h:commandLink></li>
                            <li><h:commandLink action="#{teatroBean.cadastra()}">#{msg.cadastro_de_teatro}</h:commandLink></li>
                            <li id="item-delimitador"></li>
                        </sec:authorize>

                        <sec:authorize ifAllGranted="TEATRO">
                            <li><h:commandLink action="#{promocaoBean.lista(request.getUserPrincipal().getName(), 'Teatro')}">#{msg.lista_de_promocoes}</h:commandLink></li>
                            <li><h:commandLink action="#{promocaoBean.cadastra()}">#{msg.cadastro_de_promocoes}</h:commandLink></li>
                            <li id="item-delimitador"></li>
                            <li><h:commandLink action="#{teatroBean.edita(request.getUserPrincipal().getName())}">#{msg.editar_minha_conf}</h:commandLink></li>
                        </sec:authorize>

                        <sec:authorize ifAllGranted="SITE">
                            <li><h:commandLink action="#{promocaoBean.lista(request.getUserPrincipal().getName(), 'Site')}">#{msg.minhas_promocoes}</h:commandLink></li>
                            <li id="item-delimitador"></li>
                            <li><h:commandLink action="#{siteVendaIngressoBean.edita(request.getUserPrincipal().getName())}">#{msg.editar_minha_conf}</h:commandLink></li>
                        </sec:authorize>
                        <li>
                            <sec:authorize access="hasAnyRole('TEATRO', 'SITE', 'ADMIN')"><a href="/ProjetoWeb1/logout">#{msg.logout}</a></sec:authorize>
                            <sec:authorize access="!hasAnyRole('TEATRO', 'SITE', 'ADMIN')"><a href="/ProjetoWeb1/login">#{msg.login}</a></sec:authorize>
                        </li>
                    </h:form>
                </ul>
            </div>
        </ui:composition>
    </body>
</html>
